services:
  backend:
    build:
      context: .
      dockerfile: Dockerfile.backend
    env:
      DJANGO_SECRET_KEY: ${DJANGO_SECRET_KEY}
      DJANGO_DEBUG: "False"
      DJANGO_ALLOWED_HOSTS: ${DJANGO_ALLOWED_HOSTS}
      CORS_ALLOWED_ORIGINS: ${CORS_ALLOWED_ORIGINS}
      CSRF_TRUSTED_ORIGINS: ${CSRF_TRUSTED_ORIGINS}
    ports:
      - "8000:8000"
    volumes:
      - sqlite-data:/app/db.sqlite3
      - static-data:/app/staticfiles
    restart: unless-stopped

volumes:
  sqlite-data:
  static-data:
